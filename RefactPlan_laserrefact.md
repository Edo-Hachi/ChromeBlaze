
ロックオンレーザーのインターフェイスを改善するプラン（検討中です。

#まだ実装しませんよ

#現在のインターフェイス
１）Aキーの入力でロックオンカーソルとコリジョンが発生しているエネミーをロックし、
２）単数または複数のエネミーをロックした状態でSキーが入力されると、ホーミングレーザーを一斉発射しています

この処理を以下のように更新します

#新しいインターフェイス
１）Aキーが押されていない状態では、ロックオンカーソルとエネミーとのコリジョンチェックを行いません。また、ロックオンカーソルは白色をしています。この状態はロックオンシステムのアイドル状態です。

２）Aキーが押しっぱなしの状態で、ロックオンシステムがスタンバイ状態になります。この状態ではロックオンカーソルは緑色になり、エネミーとロックオンカーソルのコリジョンチェックを行います。エネミーとロックオンカーソルのコリジョンが発生すると、そのエネミーはロックオン対象となります。（def _handle_lock_on(self, enemy_manager):。

２−１）一度ロックオンが発生すると、次のエネミーをロックオンするまでにクールタイムが発生します。（クールタイムを設けないと、一つのエネミーが一瞬で最大ロックオン数までロックされてしまうため）
クールタイムは３０フレームに設定します。スタンバイかつ、一回ロックオンが発生したあとに、３０フレームのクールダウンが発生するイメージです。

2-2)エネミーをロックオンすると画面に(n/10)と表示しましょう。１０が最大ロックオン数、ｎが現在ロックオンしている数です。

３）エネミーが１機以上ロックされた状態で、Aキーが離されると、ロックオンレーザーが一斉に発射されます。この状態はロックオンレーザーの「発射中(Shooting)」状態です。ロックオンカーソルはグレーになり、一切のコリジョンチェックを行いません。すべてのホーミングレーザーがActiveでなくなると、ロックオンシステムはアイドル状態に戻ります。



３−１）Aキーが押され、その後Aキーが離されても、ロックオンされているエネミーがいなければ、ロックオンシステムはアイドル状態に戻ります。

│ >  3. エッジケース処理                                                       │
│                                                                              │
│     - A離し時にロック数0の場合                                               │
│     - 発射中に全レーザーが瞬時に消滅                                         │
│     - クールダウン中のA離し                                                  │
│                                                                              │
│   A離し時にロックゼロであれば、レーザーは一切発射されません   



以上が、あたらしいロックオンレーザーの発射システムのインターフェイスです。
これまで、レーザーの発射に使用していたSキーは使用しなくなります。

